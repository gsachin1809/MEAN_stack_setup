angular.module("pms.controller").controller("LoginController",["$scope","$timeout","$state","AdminLogin","locker",function(o,e,n,r,l){o.error="",o.success="",o.dashboard_url="",o.login={phonenumber:"",password:""},o.clear_login_details=function(){console.log("clear called"),o.login.phonenumber="",o.login.password=""},o.onKeyPress=function(e){console.log("onKeyPress"),13==e.keyCode&&o.admin_login()},o.admin_login=function(){o.error="",o.success="",o.login.phonenumber.length<=0||""==o.login.phonenumber?o.error="Phone Number should not be empty.":10==o.login.phonenumber.length?isNaN(o.login.phonenumber)?o.error="Phone Number should only contains digit.":0!=o.login.password.length?r.resource().login(o.login,function(e){console.log("adminLogin response "+e),o.success="Successfully Authenticated",l.put("auth_user",e.user),n.go("app.pred.revenue_analysis.revenue")},function(e){console.log("eroor in ");var n=e.data.errors;n.password?o.error=n.password:n.user_not_found&&(o.error=n.user_not_found)}):o.error="Password should not be empty":o.error="Phone Number should have 10 digit."}}]),angular.module("pms.controller").controller("RootController",["$scope","$rootScope","$state","$timeout","locker","AdminLogin",function(o,e,n,r,l,s){console.log("this is Root controller")}]);